<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>404 ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | DigiSheets</title>
<link rel="stylesheet" href="/style.css" />
<style>
  :root{
    --grid-thin: rgba(16,185,129,.12);
    --grid-bold: rgba(16,185,129,.22);
    --glow: 0 12px 40px rgba(16,185,129,.35);
  }

  /* —Å—Ü–µ–Ω–∞ */
  html,body{height:100%}
  body{
    margin:0; display:grid; place-items:center; overflow:hidden;
    background: radial-gradient(1200px 800px at 15% -10%, rgba(16,185,129,.12), transparent 60%),
                radial-gradient(900px 600px at 110% 110%, rgba(16,185,129,.10), transparent 55%),
                var(--bg);
    color:var(--text);
    font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    transition: background-color .35s ease, color .35s ease;
  }

  /* –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π grid-–ª–∏—Å—Ç */
  .sheet{
    position:fixed; inset:-12vmax; pointer-events:none; opacity:.5;
    background:
      repeating-linear-gradient(to right,  transparent 0 39px, var(--grid-thin) 39px 40px),
      repeating-linear-gradient(to right,  transparent 0 159px, var(--grid-bold) 159px 160px),
      repeating-linear-gradient(to bottom, transparent 0 39px, var(--grid-thin) 39px 40px),
      repeating-linear-gradient(to bottom, transparent 0 159px, var(--grid-bold) 159px 160px);
    transform: rotate(-2deg) scale(1.08);
    animation: gridMove 22s linear infinite;
  }
  @keyframes gridMove{
    to{ background-position: 40px 0, 160px 0, 0 40px, 0 160px; }
  }

  /* –±–ª–∏–∫–∏ */
  .blob{
    position:fixed; width:40vmax; height:40vmax; border-radius:50%;
    filter: blur(50px); opacity:.25; pointer-events:none; mix-blend-mode:soft-light;
  }
  .blob.bl1{ background:#10b981; top:-10vmax; left:-10vmax; animation:float1 18s ease-in-out infinite; }
  .blob.bl2{ background:#4ade80; bottom:-12vmax; right:-14vmax; animation:float2 20s ease-in-out infinite; }
  @keyframes float1{ 50%{ transform: translate(4vmax,3vmax) scale(1.06); } }
  @keyframes float2{ 50%{ transform: translate(-3vmax,-2vmax) scale(1.07);} }

  /* –∫–∞—Ä—Ç–æ—á–∫–∞ */
  .card{
    position:relative; z-index:1; width:min(760px, 94vw);
    background: color-mix(in srgb, var(--card) 78%, transparent);
    backdrop-filter: blur(10px);
    border:1px solid color-mix(in srgb, var(--line) 70%, transparent);
    border-radius:18px; padding:34px 26px;
    box-shadow: 0 18px 60px rgba(0,0,0,.18);
    text-align:center;
    transition: background-color .35s, color .35s, border-color .35s, box-shadow .35s, transform .15s;
  }

  .code{ font-size:108px; line-height:1; font-weight:800; letter-spacing:.02em; color:var(--text); text-shadow: var(--glow); margin:0 0 6px; }
  .title{ font-size:22px; font-weight:800; margin:0 0 10px; }
  .desc{ color:var(--muted); margin:0 auto 18px; max-width:58ch; }

  .formula{
    display:inline-flex; align-items:center; gap:10px;
    border:1px solid var(--line); background:var(--card);
    padding:10px 14px; border-radius:10px; margin:8px 0 16px;
    box-shadow: 0 8px 24px rgba(0,0,0,.06);
    font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
    color: var(--text);
    transition: background-color .35s, border-color .35s, color .35s;
  }
  .fx{ font-weight:800; color:var(--brand) }
  .typed{ white-space:nowrap; overflow:hidden; border-right:2px solid var(--text) }

  .actions{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }

  /* –∫–Ω–æ–ø–∫–∏ (–≤ –¥—É—Ö–µ —Ç–≤–æ–µ–≥–æ UI) */
  .btn{
    display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
    padding:12px 18px; border-radius:10px; font-weight:700; text-decoration:none;
    border:2px solid transparent; transition:.25s;
  }
  .btn.primary{ background:var(--brand); color:#fff }
  .btn.primary:hover{ background:var(--brand-700) }
  .btn.secondary{ background:transparent; border-color:var(--brand); color:var(--brand) }
  .btn.secondary:hover{ background: rgba(16,185,129,.08) }

  /* –ø–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ —Ç–µ–º—ã */
  .theme-toggle{
    position:fixed; top:14px; right:14px; z-index:2;
    border:1px solid var(--line); background:var(--card); color:var(--text);
    border-radius:999px; padding:8px 12px; font-weight:700; cursor:pointer;
    box-shadow:0 8px 24px rgba(0,0,0,.08);
    transition: background-color .35s, color .35s, border-color .35s;
  }

  /* –ø–∞—Ä–∞–ª–ª–∞–∫—Å –∫–∞—Ä—Ç–æ—á–∫–∏ */
  @media (hover:hover){
    .card{ transform: perspective(1000px) rotateX(0) rotateY(0); }
  }

  /* –∞–¥–∞–ø—Ç–∏–≤ */
  @media (max-width:600px){
    .code{ font-size:78px }
    .title{ font-size:20px }
  }

  /* –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å */
  @media (prefers-reduced-motion:reduce){
    .sheet, .blob{ animation:none }
    .typed{ border-right:none }
  }

  /* ===== 404: mobile & reduced-motion lite mode ===== */
@media (max-width: 640px), (prefers-reduced-motion: reduce) {
  /* —Ñ–æ–Ω –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–π/–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ */
  .notfound-page {
    background: var(--bg) !important; /* –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π */
  }

  /* –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ø—Ä–æ—â–µ */
  .nf-card {
    width: 92vw !important;
    max-width: 480px;
    padding: 20px 16px !important;
    border-radius: 12px !important;
    background: var(--card) !important;
    border: 1px solid var(--line) !important;
    box-shadow: none !important;      /* —É–±—Ä–∞–ª–∏ —Ç—è–∂—ë–ª—ã–µ —Ç–µ–Ω–∏ */
    transform: none !important;       /* –±–µ–∑ 3D/—Å–∫–µ–π–ª–æ–≤ */
  }

  /* –∫—Ä—É–ø–Ω—ã–µ —Ü–∏—Ñ—Ä—ã, –Ω–æ –±–µ–∑ –∂–∏—Ä–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
  .nf-code   { font-size: 64px !important; text-shadow: none !important; }
  .nf-title  { font-size: 18px !important; margin-top: 6px; }
  .nf-text   { font-size: 14px !important; line-height: 1.5; }

  /* –∫–Ω–æ–ø–∫–∞ ‚Äî –æ–±—ã—á–Ω–∞—è, –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è, –±–µ–∑ –ø–æ–¥—Å–≤–µ—Ç–æ–∫ */
  .nf-actions .btn {
    padding: 10px 14px !important;
    border-radius: 8px !important;
    box-shadow: none !important;
    transform: none !important;
  }

  /* –∑–∞–¥—É—à–∏–º –ª—é–±—ã–µ –±–µ–≥—É—â–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏/–ø–µ—Ä–µ—Ö–æ–¥—ã */
  * {
    animation: none !important;
    transition: none !important;
    backdrop-filter: none !important;
  }

  @media (max-width: 640px) {
  .formula {
    display: flex;          /* —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å –≤–Ω—É—Ç—Ä–∏ flex */
    flex-wrap: wrap;        /* –ø–µ—Ä–µ–Ω–æ—Å —Å–ª–æ–≤ –∏ —á–∞—Å—Ç–µ–π —Ñ–æ—Ä–º—É–ª—ã */
    justify-content: center;
    white-space: normal;    /* –ª–æ–º–∞–µ–º –∂—ë—Å—Ç–∫–∏–π nowrap */
    text-align: center;
  }
  .formula .typed {
    white-space: normal;    /* —É–±–∏—Ä–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–µ—Ä–µ–Ω–æ—Å–∞ */
  }
}

}

</style>
</head>
<body>
  <!-- toggle —Ç–µ–º—ã -->
  <button class="theme-toggle" id="themeToggle" type="button" aria-pressed="false">üåô –¢—ë–º–Ω–∞—è</button>

  <div class="sheet" aria-hidden="true"></div>
  <div class="blob bl1" aria-hidden="true"></div>
  <div class="blob bl2" aria-hidden="true"></div>

  <main class="card" role="main" aria-labelledby="h404">
    <div class="code" id="h404">404</div>
    <div class="title">–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>
    <p class="desc">–ü–æ—Ö–æ–∂–µ, —Å—Å—ã–ª–∫–∞ –≤–µ–¥—ë—Ç –≤ –ø—É—Å—Ç—É—é —è—á–µ–π–∫—É. –í–µ—Ä–Ω—ë–º—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É –∏ –ø–æ–ø—Ä–æ–±—É–µ–º –µ—â—ë —Ä–∞–∑?</p>

    <div class="formula" aria-hidden="true">
      <span class="fx">=IFERROR</span><span>(</span>
      <span class="typed" id="typed"></span><span>, "not_found")</span>
    </div>

    <div class="actions">
      <a class="btn primary" href="/">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
      <a class="btn secondary" href="/#features">–ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º</a>
    </div>
  </main>

  <script>
  // 1) –õ–∞–π—Ç-—Ä–µ–∂–∏–º: –º–æ–±–∏–ª–∫–∞ –∏–ª–∏ reduced motion ‚Üí –≤–µ—à–∞–µ–º –∫–ª–∞—Å—Å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å —á—Ç–æ-—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
  (function () {
    const lite = window.matchMedia('(max-width: 640px)').matches ||
                 window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (lite) document.documentElement.classList.add('nf-lite');
  })();

  // 2) –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º—ã: –µ—Å–ª–∏ —É —Ç–µ–±—è –Ω–∞ —Å–∞–π—Ç–µ —É–∂–µ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ data-theme ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å localStorage
  (function () {
    try {
      const saved = localStorage.getItem('ds-theme');
      const theme = saved === 'dark' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', theme);
    } catch (e) {}
  })();
</script>


<script>
  // === —Ç–µ–º–∞: —á–∏—Ç–∞–µ–º localStorage –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º ===
  (function(){
    const root = document.documentElement;
    const btn = document.getElementById('themeToggle');
    function apply(theme){
      root.setAttribute('data-theme', theme);
      localStorage.setItem('ds-theme', theme);
      btn.textContent = theme === 'dark' ? '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è' : 'üåô –¢—ë–º–Ω–∞—è';
      btn.setAttribute('aria-pressed', theme === 'dark' ? 'true' : 'false');
    }
    const saved = localStorage.getItem('ds-theme');
    apply(saved === 'dark' ? 'dark' : 'light');
    btn.addEventListener('click', ()=>{
      const cur = root.getAttribute('data-theme');
      apply(cur === 'dark' ? 'light' : 'dark');
    });
  })();

  // –ª—ë–≥–∫–∏–π 3D-–ø–∞—Ä–∞–ª–ª–∞–∫—Å
  (function(){
    const card = document.querySelector('.card');
    if (!card || matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    let raf=0;
    card.addEventListener('mousemove', e=>{
      cancelAnimationFrame(raf);
      raf=requestAnimationFrame(()=>{
        const r=card.getBoundingClientRect();
        const x=(e.clientX-(r.left+r.width/2))/(r.width/2);
        const y=(e.clientY-(r.top+r.height/2))/(r.height/2);
        card.style.transform=`perspective(1000px) rotateX(${(-y*4).toFixed(2)}deg) rotateY(${(x*6).toFixed(2)}deg)`;
      });
    });
    card.addEventListener('mouseleave', ()=> card.style.transform='perspective(1000px) rotateX(0) rotateY(0)');
  })();

  // –ø–µ—á–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã
  (function(){
    const el = document.getElementById('typed');
    if (!el || matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    const text = 'ROUTE("/features")';
    let i=0, show=true;
    function type(){
      if(i<=text.length){ el.textContent = text.slice(0,i++); setTimeout(type, 30); }
      else blink();
    }
    function blink(){
      show = !show;
      el.style.borderRightColor = show ? 'currentColor' : 'transparent';
      setTimeout(blink, 450);
    }
    type();
  })();
</script>
</body>
</html>
